<mat-sidenav-container class="sidenav-container">
  <mat-sidenav-content>
    <mat-toolbar color="primary">
      
      <span>Controlador financeiro personalizado</span>
      <span class="toolbar-spacer"></span>
      <button mat-icon-button matIconButton [matMenuTriggerFor]="menu">
        <mat-icon>more_vert</mat-icon>
      </button>
      <mat-menu #menu="matMenu">
        <button mat-menu-item>
            <mat-icon>person</mat-icon>
            <span>Perfil</span>
        </button>
       <button mat-menu-item (click)="logoff()" >
            <mat-icon>exit</mat-icon>
            <span>Sair</span>
        </button>
        </mat-menu>
    </mat-toolbar>

    <div class="content">
      <router-outlet></router-outlet>
      <mat-card>

        <div class="cards-transactions">

            <mat-card class="card-indice card-receitas">
                <mat-card-header>
                    <mat-card-title>Receitas</mat-card-title>
                    <mat-card-subtitle>R$ {{receitas}}</mat-card-subtitle>
                </mat-card-header>
            </mat-card>
            <mat-card class="card-indice card-despesas">
                <mat-card-header>
                    <mat-card-title>Despesas</mat-card-title>
                    <mat-card-subtitle>R$ {{despesas}}</mat-card-subtitle>
                </mat-card-header>
            </mat-card>
            <mat-card class="card-indice card-total">
                <mat-card-header>
                    <mat-card-title>Total</mat-card-title>
                    <mat-card-subtitle>R$ {{total}}</mat-card-subtitle>
                </mat-card-header>
            </mat-card>

        </div>

        <div class="card-actions">
          <div class="button-row btn-addTransaction">
              <button mat-flat-button color="primary" (click)="addTransaction()">
                  <mat-icon>add</mat-icon>
                  <span>
                      Add Transaction
                  </span>
              </button>
          </div>
          <div>
            <mat-form-field>
              <mat-label>Select Type Transaction</mat-label>
              <select #type_transac (change)="onSelected()" matNativeControl required>
                <option>Select type</option>
                <option value="receita">Receita</option>
                <option value="despesa">Despesa</option>
              </select>
            </mat-form-field>
          </div>

          <mat-form-field>
            <mat-label>Enter a date range</mat-label>
            <mat-date-range-input [formGroup]="range" [rangePicker]="picker">
              <input id="start" formControlName="start" matStartDate placeholder="Start date">
              <input id="end" formControlName="end" matEndDate placeholder="End date">
            </mat-date-range-input>
            <mat-hint>MM/DD/YYYY â€“ MM/DD/YYYY</mat-hint>
            <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
            <mat-date-range-picker #picker></mat-date-range-picker>
          </mat-form-field>
          <div class="button-row btn-addTransaction">
            <button mat-flat-button color="primary" (click)="searchForDate()">
              <mat-icon>search</mat-icon>
              <span>
                search
              </span>
            </button>
          </div>

        </div>

        <mat-card-content>          
            <div class="mat-elevation-z8">
                <table mat-table [dataSource]="dataSource">

                    <ng-container matColumnDef="type">
                    <th mat-header-cell *matHeaderCellDef> Type </th>
                    <td mat-cell *matCellDef="let element"> {{element.type}} </td>
                    </ng-container>

                    
                    <ng-container matColumnDef="description">
                    <th mat-header-cell *matHeaderCellDef> Description </th>
                    <td mat-cell *matCellDef="let element"> {{element.description}} </td>
                    </ng-container>

                    <ng-container matColumnDef="amount">
                    <th mat-header-cell *matHeaderCellDef> Amount </th>
                    <td mat-cell *matCellDef="let element"> {{element.amount}} </td>
                    </ng-container>

                    <ng-container matColumnDef="transaction_date">
                    <th mat-header-cell *matHeaderCellDef> Transaction Date </th>
                    <td mat-cell *matCellDef="let element"> {{element.transaction_date | date:'dd/MM/yyyy'}} </td>
                    </ng-container>
                    
                    <ng-container matColumnDef="options">
                    <th mat-header-cell *matHeaderCellDef> options </th>
                    <td mat-cell *matCellDef="let element">
                        <section>
                            <div class="button-row">
                                <div class="flex-container">
                                <button mat-icon-button matIconButton (click)="alterTransaction(element.id)" >
                                    <mat-icon class="edit">edit</mat-icon>
                                </button>
                                <button mat-icon-button matIconButton (click)="deleteTransaction(element.id)" >
                                    <mat-icon class="delete">delete_forever</mat-icon>
                                </button>
                                </div>
                            </div>
                        </section>
                    </td>
                    </ng-container>

                    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                </table>

                <!-- <mat-paginator [pageSizeOptions]="[5, 10, 20]"
                                showFirstLastButtons
                                aria-label="Select page of periodic elements">
                </mat-paginator> -->
            </div>

        </mat-card-content>
      </mat-card>
    </div>
  </mat-sidenav-content>
</mat-sidenav-container>